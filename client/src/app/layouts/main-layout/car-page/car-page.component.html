<section class="car-details">
  <div class="car-image">
    <img
      *ngIf="car.publicIds.length === 0"
      src="https://placehold.co/600x400?text=Image\nComing\nSoon"
      alt="{{ car.make }} {{ car.model }}"
    />
    <img
      *ngIf="car.publicIds.length > 0"
      src="https://res.cloudinary.com/dltfiariz/image/upload/{{
        car.publicIds[imgIndex]
      }}.jpg"
      alt="{{ car.year }} {{ car.make }} {{ car.model }}"
    />
    <div *ngIf="car.publicIds.length > 0" class="img-controls">
      <button aria-label="Previous image" (click)="imgViews('prev')">
        <svg
          width="18"
          height="18"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <path
            d="M15 18L9 12L15 6"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </button>

      <button aria-label="Next image" (click)="imgViews('next')">
        <svg
          width="18"
          height="18"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <path
            d="M9 6L15 12L9 18"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </button>
    </div>
  </div>

  <div class="car-info">
    <h2>
      {{ car.year }} {{ car.make | titlecase }} {{ car.model | titlecase }}
    </h2>
    <p class="price">{{ car.cashPrice | currency }}</p>

    <!-- Specifications -->
    <ul class="car-specs">
      <li><strong>Color:</strong> {{ car.color }}</li>
      <li><strong>Mileage:</strong> {{ car.milage | number }}</li>
    </ul>

    <!-- Pricing Section -->
    <div class="pricing-section">
      <h3>Pricing Options</h3>
      <div *ngIf="!car.cashPrice && !car.financePrice" class="no-pricing">
        <p>Please contact for pricing options.</p>
      </div>
      <div *ngIf="car.cashPrice || car.financePrice" class="pricing-options">
        <div class="pricing-option cash">
          <h4>Cash Price</h4>
          <p class="amount">{{ car.cashPrice | currency }}</p>
        </div>

        <div class="pricing-divider">
          <span>OR</span>
        </div>

        <div class="pricing-option finance">
          <h4>Finance Option</h4>
          <p class="amount">{{ car.financePrice | currency }}</p>
          <p class="down-payment">
            Down Payment: {{ car.downPayment | currency }}
          </p>
        </div>
      </div>
    </div>

    <div class="car-status" [ngClass]="car.status">
      <p>Status of Title</p>
      <p class="status">
        <strong>{{ car.status | titlecase }}</strong>
      </p>
    </div>

    <!-- Call-to-Action Buttons -->
    <div class="car-actions">
      <a [routerLink]="['/contact']" class="btn primary-btn">Inquire Now</a>
    </div>
  </div>
</section>
